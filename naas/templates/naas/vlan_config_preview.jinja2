{% extends 'base.html' %}

{% block content %}
<div class="container">
    <h1>ACI VLAN to Port Configuration Preview</h1>
    
    <!-- Debug information -->
    <div style="background-color: #f5f5f5; padding: 10px; margin: 10px 0;">
        <p>Debug Info:</p>
        <p>config_preview: {{ config_preview }}</p>
        <p>config_data: {{ config_data }}</p>
    </div>
    
    <div class="panel panel-default">
        <div class="panel-heading">
            <h2 class="panel-title">Configuration Details</h2>
        </div>
        <div class="panel-body">
            <pre class="config-preview">
                {% if config_preview %}
                    {{ config_preview|safe }}
                {% else %}
                    No configuration preview available
                {% endif %}
            </pre>
        </div>
    </div>
    
    <form method="post" action="{% url 'plugins:naas:aci_vlan_to_port_submit' %}">
        {% csrf_token %}
        <input type="hidden" name="config_data" value="{{ config_data|safe }}">
        <button type="submit" class="btn btn-primary">Deploy Configuration</button>
    </form>
    <button type="button" class="btn btn-secondary" onclick="window.history.back();">Back to Form</button>
</div>
{% endblock %}