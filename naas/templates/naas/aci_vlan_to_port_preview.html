{% extends 'base.html' %}

{% block content %}
<div class="container">
    <h1>ACI VLAN to Port Configuration Preview</h1>
    <h3>Raw config_preview Output (Debugging)</h3>
        <pre>{{ config_preview|default:"[EMPTY]" }}</pre>
    
    <div class="panel panel-default">
        <div class="panel-heading">
            <h2 class="panel-title">Configuration Details</h2>
        </div>
        <div class="panel-body">
            <h3>Safe config_preview Output</h3>
            <pre style="white-space: pre-wrap; word-wrap: break-word;">
                {% if config_preview.strip %}
                    {{ config_preview|safe }}
                {% else %}
                    <strong>No configuration preview available</strong>
                {% endif %}
            </pre>
        </div>
    </div>
    
    <form method="post" action="{% url 'plugins:naas:aci_vlan_to_port_submit' %}">
        {% csrf_token %}
        <input type="hidden" name="config_data" value="{{ config_data|safe }}">
        <button type="submit" class="btn btn-primary">Deploy Configuration</button>
    </form>
    <button type="button" class="btn btn-secondary" onclick="window.history.back();">Back to Form</button>
</div>
{% endblock %}